(window.webpackJsonp=window.webpackJsonp||[]).push([[20,15],{383:function(e,t,r){"use strict";r.r(t);r(26);var n={name:"TrainingDraggable",props:{id:{type:String,required:!0},title:{type:String,required:!0},type:{type:String,required:!0},width:{type:Number,default:100},height:{type:Number,default:100},rounded:{type:Boolean,default:!1}},data:function(){return{colorCodes:{Certificate:"#E31937",Course:"#D6A5B1",Knowledge:"#5236AB","Soft Skills":"#991F3D"}}}},o=r(71),c=r(88),l=r.n(c),d=r(49),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-sheet",{staticClass:"d-flex flex-column align-center justify-center",style:"width: "+e.width+"px; height:"+e.height+"px; font-weight: bold; background:"+e.colorCodes[e.type]+"; color: white;margin:0;padding:0;white-space: wrap;overflow:hidden",attrs:{width:e.width,height:e.height,rounded:e.rounded,elevation:"2"}},[e._v("\n  "+e._s(e.title)+"\n")])}),[],!1,null,null,null);t.default=component.exports;l()(component,{VSheet:d.a})},398:function(e,t,r){"use strict";r.r(t);var n={props:{userName:{required:!0,type:String},userId:{required:!0,type:String},comment:{required:!0,type:String}}},o=r(71),c=r(88),l=r.n(c),d=r(384),f=r(49),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sheet",{staticClass:"pa-2 ma-2",attrs:{rounded:"",elevation:"2","min-height":"40"}},[r("div",{staticClass:"text-caption"},[r("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/app/"+e.userId}},[r("b",[e._v("@"+e._s(e.userName))])]),e._v(" "),r("b",[e._v("commented:")])]),e._v(" "),r("v-divider",{attrs:{inset:""}}),e._v(" "),r("div",{staticClass:"text-caption"},[e._v(e._s(e.comment))])],1)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VDivider:d.a,VSheet:f.a})},427:function(e,t,r){"use strict";r.r(t);var n=r(4),o=(r(66),r(36),r(398)),c={props:{planId:{type:String,required:!0}},data:function(){return{message:""}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("comments/bindRef",e.planId);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},methods:{sendMessage:function(){var e=this;this.$store.dispatch("comments/add",{userId:this.$fire.auth.currentUser.uid,comment:this.message.trim(),planId:this.planId,userName:this.$fire.auth.currentUser.displayName}).then((function(){return e.message=""}))},clearMessage:function(){this.message=""}},computed:{comments:{get:function(){return this.$store.getters["comments/get"]}}},components:{CommentDisplay:o.default}},l=r(71),d=r(88),f=r.n(d),h=r(384),m=r(492),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"text-h6 mb-2"},[e._v("Comments:")]),e._v(" "),r("v-text-field",{attrs:{"append-outer-icon":e.message?"mdi-send":"","clear-icon":"mdi-close-circle",solo:"",clearable:"",label:"Message",type:"text"},on:{"click:append-outer":e.sendMessage,"click:clear":e.clearMessage},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),r("v-divider"),e._v(" "),r("br"),e._v(" "),e._l(e.comments,(function(e,t){return r("CommentDisplay",{key:t,attrs:{"user-name":e.created_by_name,comment:e.comment,userId:e.created_by}})}))],2)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VDivider:h.a,VTextField:m.a})},511:function(e,t,r){"use strict";r.r(t);var n=r(4),o=(r(58),r(36),r(427)),c={data:function(){return{colorCodes:{Certificate:"#E31937",Course:"#D6A5B1",Knowledge:"#5236AB","Soft Skills":"#991F3D"}}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=e.$fire.auth.currentUser&&e.$fire.auth.currentUser.uid,!t.t0){t.next=5;break}return t.next=5,e.$store.dispatch("loggedInUser/bindRef");case 5:return t.next=7,e.$store.dispatch("plan/bindRef",e.$route.params.id);case 7:return t.next=9,e.$store.dispatch("certificates/bindCertificatesRef");case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(0),console.error(t.t1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},methods:{getCertificatebyId:function(e){var t=this.certificatesID.indexOf(e);return this.certificates[t]},updateProgress:function(progress,e){this.$store.dispatch("plan/updateProgress",{planId:this.$route.params.id,trainingId:e,progress:progress})},follow:function(){this.$store.dispatch("loggedInUser/followPlan",{planId:this.$route.params.id})},unfollow:function(){this.$store.dispatch("loggedInUser/unfollowPlan",{planId:this.$route.params.id})}},computed:{plan:{get:function(){return this.$store.getters["plan/getPlan"]}},trainings:{get:function(){return this.$store.getters["plan/getTrainings"]}},certificates:{get:function(){return this.$store.getters["certificates/get"]}},certificatesID:{get:function(){return this.$store.getters["certificates/get"].map((function(e){return e.id}))}},follows:{get:function(){return this.$store.getters["loggedInUser/getFollows"]}},series:function(){var e=this.trainings.map((function(e){return e.progress}));return e.push(100*this.trainings.length-e.reduce((function(a,b){return a+b}),0)),e},options:function(){var e=this,t=this.trainings.map((function(t){var r=e.getCertificatebyId(t.certificate_id);return t.type=r.type,t})).map((function(t){return e.colorCodes[t.type]}));t.push("#ffffff");var r={plotOptions:{pie:{customScale:.9,donut:{size:"40%"}}},fill:{colors:t},legend:{show:!1},dataLabels:{enabled:!1},markers:{enabled:!1},subtitle:{enabled:!1},tooltip:{enabled:!1},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:.15}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:.35}}}};return r}},components:{TrainingDraggable:r(383).default,CommentSection:o.default}},l=r(71),d=r(88),f=r.n(d),h=r(192),m=r(501),v=r(374),y=r(502),_=r(49),w=r(503),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("br"),e._v(" "),r("v-sheet",[e.plan&&e.plan.title?r("div",{staticClass:"text-h4 d-flex flex-row align-center"},[e._v("\n      "+e._s(e.plan.title)+"\n      "),e.$fire.auth.currentUser&&e.plan.created_by!=e.$fire.auth.currentUser.uid?r("div",[e.follows.find((function(t){return t.planId==e.$route.params.id}))?r("v-btn",{staticClass:"ml-2",attrs:{text:"","x-small":"",color:"primary"},on:{click:function(t){return e.unfollow()}}},[e._v("Unfollow")]):r("v-btn",{staticClass:"ml-2",attrs:{text:"","x-small":"",color:"primary"},on:{click:function(t){return e.follow()}}},[e._v("Follow")])],1):e._e()]):e._e(),e._v(" "),e.plan&&e.plan.created_by_name?r("div",{staticClass:"text-caption"},[r("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/app/"+e.plan.created_by}},[r("b",[e._v("@"+e._s(e.plan.created_by_name))])])]):e._e()]),e._v(" "),r("v-row",[e.trainings&&e.trainings.length>0&&e.certificatesID&&e.certificatesID.length>0?r("v-col",{attrs:{cols:"12",lg:"7",xl:"7"}},[r("v-row",[r("v-col",{staticStyle:{perspective:"10rem"},attrs:{cols:"12"}},[r("v-sheet",{staticClass:"pa-3"},e._l(e.trainings,(function(t,n){return r("v-sheet",{key:n,staticClass:"d-flex flex-row justify-start align-center pl-2 pr-2 ma-2",attrs:{elevation:"2",rounded:""}},[r("div",[r("TrainingDraggable",{key:n,staticClass:"mt-3 mb-3",attrs:{rounded:"",id:t.id,height:100,width:150,title:e.getCertificatebyId(t.certificate_id).display_name,type:e.getCertificatebyId(t.certificate_id).type}})],1),e._v(" "),r("div",{staticClass:"ml-4",staticStyle:{flex:"1"}},[r("div",{staticStyle:{"border-style":"groove",width:"100%",height:"50px",padding:"1px"}},[r("div",{style:"width:"+t.progress+"%; height:100%;background:"+e.colorCodes[e.getCertificatebyId(t.certificate_id).type]})]),e._v(" "),e.$fire.auth.currentUser&&e.$fire.auth.currentUser.uid==e.plan.created_by?r("div",{staticStyle:{height:"10px"}},[r("v-slider",{staticStyle:{padding:"0",margin:"0"},attrs:{value:t.progress,step:"10",color:e.colorCodes[e.getCertificatebyId(t.certificate_id).type],"track-color":"grey",ticks:"always"},on:{change:function(r){return e.updateProgress(r,t.id)}}})],1):e._e()])])})),1)],1)],1)],1):e._e(),e._v(" "),e.trainings&&e.trainings.length>0&&e.certificatesID&&e.certificatesID.length>0?r("v-col",{staticClass:".d-xs-none",staticStyle:{perspective:"10rem"},attrs:{cols:"12",xl:"5",lg:"5"}},[r("v-sheet",{staticClass:"pa-1",attrs:{width:"100%",height:"100%"}},[r("apexchart",{attrs:{width:"100%",height:"100%",type:"donut",options:e.options,series:e.series}})],1)],1):e._e(),e._v(" "),r("v-col",{attrs:{cols:"12",order:"3"}},[r("comment-section",{attrs:{planId:this.$route.params.id}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{CommentSection:r(427).default}),f()(component,{VBtn:h.a,VCol:m.a,VContainer:v.a,VRow:y.a,VSheet:_.a,VSlider:w.a})}}]);