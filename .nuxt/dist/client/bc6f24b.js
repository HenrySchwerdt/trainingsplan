(window.webpackJsonp=window.webpackJsonp||[]).push([[21,15,16],{383:function(e,t,r){"use strict";r.r(t);r(26);var n={name:"TrainingDraggable",props:{id:{type:String,required:!0},title:{type:String,required:!0},type:{type:String,required:!0},width:{type:Number,default:100},height:{type:Number,default:100},rounded:{type:Boolean,default:!1}},data:function(){return{colorCodes:{Certificate:"#E31937",Course:"#D6A5B1",Knowledge:"#5236AB","Soft Skills":"#991F3D"}}}},l=r(71),o=r(88),c=r.n(o),d=r(49),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-sheet",{staticClass:"d-flex flex-column align-center justify-center",style:"width: "+e.width+"px; height:"+e.height+"px; font-weight: bold; background:"+e.colorCodes[e.type]+"; color: white;margin:0;padding:0;white-space: wrap;overflow:hidden",attrs:{width:e.width,height:e.height,rounded:e.rounded,elevation:"2"}},[e._v("\n  "+e._s(e.title)+"\n")])}),[],!1,null,null,null);t.default=component.exports;c()(component,{VSheet:d.a})},397:function(e,t,r){"use strict";r.r(t);r(26);var n={props:{id:{type:Number,required:!0}}},l=r(71),o=r(88),c=r.n(o),d=r(49),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-sheet",{staticClass:"d-flex felx-column justify-center align-center",staticStyle:{background:"#E4E4E5","font-size":"5vw",color:"white",margin:"0",padding:"0"},attrs:{width:"100",height:"100"}},[e._v("\n  "+e._s(e.id)+"\n")])}),[],!1,null,null,null);t.default=component.exports;c()(component,{VSheet:d.a})},426:function(e,t,r){"use strict";r.r(t);var n=r(4),l=(r(36),r(155),r(187),r(7),r(51),r(63),r(35),r(188),r(58),r(397)),o=r(383);Array.prototype.insert=function(e,t){this.splice(e,0,t)};var c={data:function(){return{itemAmount:4,items:{1:void 0,2:void 0,3:void 0,4:void 0},search:{filterItems:["all","Knowlegde","Scrum","Course","Certificate","Soft Skills"],filter:"all",searchText:""}}},methods:{selectedIDs:function(){for(var e=[],t=0,r=Object.values(this.items);t<r.length;t++){var n=r[t],l=this.certificatesID.indexOf(n);l>=0&&e.push(l)}return e},filteredCertificates:function(){var e=this;return this.certificates.filter((function(t){return!e.selectedIDs().includes(e.certificates.indexOf(t))})).filter((function(t){return t.training.includes(e.search.searchText)})).filter((function(t){return"all"==e.search.filter||t.area==e.search.filter}))},dragStart:function(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllow="move",e.dataTransfer.setData("itemID",t)},onDrop:function(e,t){var r=e.dataTransfer.getData("itemID");for(var n in this.items)this.items[n]==r&&(this.items[n]=this.items[t]);this.items[t]=r,this.$emit("itemsChanged",this.items)},onDelete:function(e){var t=e.dataTransfer.getData("itemID");for(var r in this.items)this.items[r]==t&&(this.items[r]=void 0);this.$emit("itemsChanged",this.items)}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("certificates/bindCertificatesRef");case 2:case"end":return t.stop()}}),t)})))()},computed:{certificates:{get:function(){return this.$store.getters["certificates/get"]}},certificatesID:{get:function(){return this.$store.getters["certificates/get"].map((function(e){return e.id}))}}},components:{TrainingDropZone:l.default,TrainingDraggable:o.default}},d=r(71),f=r(88),h=r.n(f),m=r(501),v=r(384),_=r(502),x=r(491),D=r(469),w=r(493),y=r(492),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-col",{staticClass:"d-flex flex-row justify-start align-center",attrs:{cols:"12"}},e._l(e.itemAmount,(function(t){return r("div",{key:t,staticClass:"mr-8"},[r("div",{staticStyle:{width:"100px",height:"100px"},on:{drop:function(r){return e.onDrop(r,t)},dragenter:function(e){e.preventDefault()},dragover:function(e){e.preventDefault()},dragstart:function(r){return e.dragStart(r,e.items[t])}}},[e.items[t]?r("div",[r("TrainingDraggable",{attrs:{draggable:!0,id:e.items[t],title:e.certificates[e.certificatesID.indexOf(e.items[t])].display_name,type:e.certificates[e.certificatesID.indexOf(e.items[t])].type}})],1):r("div",[r("TrainingDropZone",{attrs:{id:t}})],1)])])})),0),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-divider")],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-row",[r("v-col",{attrs:{cols:"5"}},[r("v-text-field",{attrs:{label:"Search...",solo:"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search.searchText,callback:function(t){e.$set(e.search,"searchText",t)},expression:"search.searchText"}})],1),e._v(" "),r("v-col",{attrs:{cols:"3"}},[r("v-select",{attrs:{items:e.search.filterItems,solo:"",label:"Filter",prefix:"Type: "},model:{value:e.search.filter,callback:function(t){e.$set(e.search,"filter",t)},expression:"search.filter"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("div",{on:{drop:function(t){return e.onDelete(t)},dragenter:function(e){e.preventDefault()},dragover:function(e){e.preventDefault()}}},[r("v-slide-group",e._l(e.filteredCertificates(),(function(t,n){return r("v-slide-item",{key:n},[r("div",{attrs:{draggable:""},on:{dragstart:function(r){return e.dragStart(r,t.id)}}},[r("TrainingDraggable",{staticClass:"ma-3",attrs:{id:t.id,title:t.display_name,type:t.type}})],1)])})),1)],1)])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VCol:m.a,VDivider:v.a,VRow:_.a,VSelect:x.a,VSlideGroup:D.a,VSlideItem:w.a,VTextField:y.a})},510:function(e,t,r){"use strict";r.r(t);r(187),r(51),r(63),r(58);var n={data:function(){return{menu:!1,trainingsPlan:{title:"",due_date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),items:{}},errors:{itemsSelected:!1,planName:!1}}},methods:{changeItems:function(e){this.trainingsPlan.items=e},store:function(){if(!this.checkParameters()){var e=this.$fire.firestore.collection("plans").doc();this.$store.dispatch("plans/add",{ref:e,title:this.trainingsPlan.title,due_date:this.trainingsPlan.due_date,items:this.orderItems(this.trainingsPlan.items)}),this.$router.push("/app/trainingsplan/"+e.id)}},orderItems:function(e){for(var t=[],r=0,n=Object.values(e);r<n.length;r++){var l=n[r];l&&""!=l&&this.certificatesID.includes(l)&&t.push({id:l,priority:t.length+1})}return t},checkParameters:function(){return this.errors.itemsSelected=!Object.values(this.trainingsPlan.items).some((function(e){return e&&""!=e})),this.errors.planName=!(this.trainingsPlan.title&&this.trainingsPlan.title.length>4&&this.trainingsPlan.title.length<=40),this.errors.itemsSelected||this.errors.planName}},computed:{certificatesID:{get:function(){return this.$store.getters["certificates/get"].map((function(e){return e.id}))}}},components:{TrainingsPlanSelectorContainer:r(426).default}},l=r(71),o=r(88),c=r.n(o),d=r(522),f=r(192),h=r(501),m=r(374),v=r(506),_=r(437),x=r(502),D=r(492),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{staticClass:"mt-12",attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-alert",{attrs:{dense:"",border:"left",type:"error",dismissible:""},model:{value:e.errors.planName,callback:function(t){e.$set(e.errors,"planName",t)},expression:"errors.planName"}},[e._v("\n        The trainingsplan name must at least have\n        "),r("strong",[e._v("4")]),e._v(" characters and can have a maximum of\n        "),r("strong",[e._v("50")]),e._v(" characters.\n      ")]),e._v(" "),r("v-alert",{attrs:{dense:"",border:"left",type:"error",dismissible:""},model:{value:e.errors.itemsSelected,callback:function(t){e.$set(e.errors,"itemsSelected",t)},expression:"errors.itemsSelected"}},[e._v("\n        You should at least select "),r("strong",[e._v("one")]),e._v(" task for your\n        trainingsplan.\n      ")])],1),e._v(" "),r("v-col",{attrs:{cols:"8"}},[r("v-text-field",{attrs:{prefix:"[Trainingsplan Title]",solo:""},model:{value:e.trainingsPlan.title,callback:function(t){e.$set(e.trainingsPlan,"title",t)},expression:"trainingsPlan.title"}})],1),e._v(" "),r("v-col",{attrs:{cols:"5"}},[r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","nudge-top":80,"offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,l=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{prefix:"[Due Date]",readonly:"",solo:""},model:{value:e.trainingsPlan.due_date,callback:function(t){e.$set(e.trainingsPlan,"due_date",t)},expression:"trainingsPlan.due_date"}},"v-text-field",l,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),r("v-date-picker",{on:{input:function(t){e.menu=!1}},model:{value:e.trainingsPlan.due_date,callback:function(t){e.$set(e.trainingsPlan,"due_date",t)},expression:"trainingsPlan.due_date"}})],1)],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("TrainingsPlanSelectorContainer",{on:{itemsChanged:e.changeItems}})],1),e._v(" "),r("v-col",{staticClass:"mt-16",attrs:{cols:"1",offset:"11"}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.store}},[e._v("Save")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{TrainingsPlanSelectorContainer:r(426).default}),c()(component,{VAlert:d.a,VBtn:f.a,VCol:h.a,VContainer:m.a,VDatePicker:v.a,VMenu:_.a,VRow:x.a,VTextField:D.a})}}]);